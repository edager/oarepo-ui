{# render semantic-ui grid #}
{% macro render_grid(layout, data, record, className, style, rows, columns, columnsPerRow) %}
    {% set cols=number_to_word(columnsPerRow) + ' column' if columnsPerRow else '' %}
    <div class="ui {{ className }} grid {{ 'container' if not rows else '' }} {{ cols }}">
        {% if rows %}
            {% for r in rows %}
                <div class="row stretched {{ cols }}">
                    {% for c in r.columns %}
                        <div class="column stretched {{ c.columnClassName }}">
                            {{ oarepo_ui.render_layout(layout=c|remove_property('columnClassName'), data=data, record=record) }}
                        </div>
                    {% endfor %}
                </div>
            {% endfor %}
        {% elif columns %}
            {% for c in columns %}
                <div class="column stretched {{ c.columnClassName }}">
                    {{ oarepo_ui.render_layout(layout=c|remove_property('columnClassName'), data=data, record=record) }}
                </div>
            {% endfor %}
        {% else  %}
            <div class="error">Error rendering grid: either row or columns expected, got {{ layout|pprint }}</div>
        {% endif %}
    </div>
{% endmacro %}

{# render unknown component #}
{% macro render_unknown(layout, data, record, className, style) %}
    <div class="{{ className }}" style="color: red; {{ style }}">Unknown component {{ layout|pprint }}:
        kwargs: {{ kwargs|pprint }}</div>
{% endmacro %}

{# placeholder component #}
{% macro render_placeholder(layout, data, record, className, style) %}
    <div class="ui {{ className }}"
         style="{{ style }}; background-color: rgba(200, 200, 100, 0.2); border: 1px dotted lightgrey">
        <div style="background-color: white; padding: 20px">
            <div class="ui placeholder">
                <div class="image header">
                    <div class="line"></div>
                    <div class="line"></div>
                </div>
            </div>
        </div>
    </div>
{% endmacro %}