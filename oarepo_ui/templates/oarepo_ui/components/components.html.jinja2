{# render semantic-ui grid #}
{% macro render_grid(layout, data, record, className, style, rows, columns, columnsPerRow) %}
    {% set cols=number_to_word(columnsPerRow) + ' column' if columnsPerRow else '' %}
    <div class="ui {{ className }} grid {{ 'container' if not rows else '' }} {{ cols }}">
        {% if rows %}
            {% for r in rows %}
                <div class="row stretched {{ cols }}">
                    {% for c in r.columns %}
                        {% if c.component == 'column' %}
                            {{ oarepo_ui.render_layout(layout=c, data=data, record=record) }}
                        {% else %}
                            <div class="column stretched">
                                {{ oarepo_ui.render_layout(layout=c, data=data, record=record) }}
                            </div>
                        {% endif %}
                    {% endfor %}
                </div>
            {% endfor %}
        {% elif columns %}
            {% for c in columns %}
                {% if c.component == 'column' %}
                    {{ oarepo_ui.render_layout(layout=c, data=data, record=record) }}
                {% else %}
                    <div class="column stretched">
                        {{ oarepo_ui.render_layout(layout=c, data=data, record=record) }}
                    </div>
                {% endif %}
            {% endfor %}
        {% else  %}
            <div class="error">Error rendering grid: either row or columns expected, got {{ layout|pprint }}</div>
        {% endif %}
    </div>
{% endmacro %}

{# render semantic-ui grid #}
{% macro render_column(layout, data, record, className, style, items) %}
    <div class="column {{ className }}">
        {% for it in items %}
            {{ oarepo_ui.render_layout(layout=it, data=data, record=record) }}
        {% endfor %}
    </div>
{% endmacro %}


{# render unknown component #}
{% macro render_unknown(layout, data, record, className, style) %}
    <div class="{{ className }}" style="color: red; {{ style }}">Unknown component {{ layout|pprint }}:
        kwargs: {{ kwargs|pprint }}</div>
{% endmacro %}

{# placeholder component #}
{% macro render_placeholder(layout, data, record, className, style) %}
    <div class="ui {{ className }}"
         style="{{ style }}; background-color: rgba(200, 200, 100, 0.2); border: 1px dotted lightgrey">
        <div style="background-color: white; padding: 20px">
            <div class="ui placeholder">
                <div class="image header">
                    <div class="line"></div>
                    <div class="line"></div>
                </div>
            </div>
        </div>
    </div>
{% endmacro %}